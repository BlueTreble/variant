\set ECHO 0


ok 1..0
1..41
ok 1 - cast to text
ok 2 - Check equality
ok 3 - Check NULL
ok 4 - threw 22023: variant.variant(DEFAULT) is disabled
ok 5 - variant.text_in()
ok 6 - variant.text_out()
ok 7 - valid variant(DEFAULT)
ok 8 - Register variant
ok 9 - registration test variant correctly added
ok 10 - check variant.registered for newly added variant
ok 11 - Check format_type() output
ok 12 - _variant.registered( text )
ok 13 - _variant.registered( int )
ok 14 - threw 22023: Invalid variant type bullshit registered test variant that should never actually exist
ok 15 - threw 22023: Invalid variant type <>
ok 16 - threw 22023: Invalid typmod -2
ok 17 - threw 22023: Invalid typmod <>
ok 18 - Verify current allowed types
ok 19 - test variant.add_type
ok 20 - test variant.add_types
ok 21 - Verify newly added types
ok 22 - threw new row for relation "_registered" violates check constraint "allowed_types_may_not_contain_nulls"
ok 23 - Register allowed types variant
ok 24 - Create table for testing allowed types
ok 25 - threw 22023: type integer is not allowed in variant.variant(test allowed types)
ok 26 - Allow use of int
ok 27 - threw 22023: type smallint is not allowed in variant.variant(test allowed types)
ok 28 - threw 2BP01: variant test allowed types is still in use
ok 29 - Drop temp table
ok 30 - remove type
ok 31 - test valid variant names
ok 32 - threw 42601
ok 33 - test variant name (
ok 34 - test variant name )
ok 35 - test variant name "
ok 36 - test variant name 99999
ok 37 - (int,)::int = NULL
ok 38 - (int,1)::int != NULL
ok 39 - (int,)::int = NULL is NULL
ok 40 - (int,1)::int != NULL is NULL
ok 41 - Verify we are testing all storage options
